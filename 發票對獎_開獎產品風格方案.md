# 發票對獎 UI 方案（參考開獎／對獎產品排版）

## 一、參考產品與排版特點

| 產品 | 排版特點 | 可借鏡 |
|------|----------|--------|
| **財政部 invoice.etax.nat.gov.tw** | 期別選單（本期／上期）→ **表格式**開獎（獎別 \| 中獎號碼）→ 領獎期間單行 → 注意事項收合 | 開獎號碼用**表格**、期別與領獎期顯眼、結構由上而下 |
| **統一發票兌獎 APP（官方）** | 以兌獎流程為主、開獎號碼查詢為輔、左滑手勢混用 | 流程明確、避免多手勢 |
| **發票存摺／發票載具** | 打開即條碼、介面簡潔、無蓋版、會員卡與載具同頁 | **單一焦點**、資訊分層、少干擾 |
| **常見開獎網頁** | 號碼**大字／卡片**、期別標題、領獎期限固定位置 | 號碼視覺優先、期別＋領獎期不搶戲但好找 |

---

## 二、現有方案回顧（A/B/C）

- **方案 A**：一句摘要 + 明細／開獎號碼各一 expander + 按鈕同一行。
- **方案 B**：整區一個 expander，標題即摘要（例：中獎 2 張共 400 元）。
- **方案 C**（目前）：單行精簡條 + 右側 [查看明細][本期開獎][重新對獎] popover。

以下為**新增方案 D～H**，刻意對齊上述開獎／對獎產品的排版邏輯。

---

## 三、方案 D：財政部風格（表格式開獎為主）

**參考**：財政部開獎頁 — 期別 + 表格式開獎 + 領獎期。

**版面**（由上而下）：

1. **標題列**：`🎰 發票對獎`，右側小字期別（例：114年11-12月）＋「切換期別」下拉或兩顆小按鈕（本期／上期）。
2. **開獎號碼區（常駐）**：用 **st.dataframe** 或 **表格** 呈現，例如：
   - 欄位：獎別 | 中獎號碼
   - 列：特別獎、特獎、頭獎(3 組可合併一格或分列)、領獎期間（合併列或 caption）。
3. **對獎結果**：一句摘要（對獎 N 張，中獎 M 張共 X 元 / 未中獎）；失敗時一句錯誤＋「重新對獎」。
4. **中獎明細**：有中獎時用 expander「中獎明細」內放 dataframe，預設收合。
5. **手動貼上**：維持 expander「手動貼上開獎號碼（備用）」，收合。

**優點**：與財政部官網一致，開獎號碼一目了然、期別與領獎期清楚。  
**缺點**：開獎表格常駐，佔高略多。

---

## 四、方案 E：卡片／儀表板風格（KPI + 開獎卡）

**參考**：儀表板／App 的數據卡、開獎頁「號碼為主角」。

**版面**：

1. **標題**：`🎰 發票對獎`。
2. **第一行：KPI 小卡**（columns，同寬）：
   - 卡 1：**對獎張數**（數字大）
   - 卡 2：**中獎張數**（數字大，未中獎為 0）
   - 卡 3：**中獎金額**（數字大，未中獎為 0）
   - 卡 4：**期別**（例：114年11-12月）或 **領獎至 115/5/5**。
3. **第二行：開獎號碼卡片**（或一橫條）：
   - 特別獎、特獎、頭獎 各一「小卡」或 badge：號碼大字、獎別小字。
   - 右側或下方：領獎期間（小字）。
4. **操作列**：按鈕「對獎（最新一期）」「對獎（上一期）」同一行；中獎時「查看明細」expander；手動貼上 expander 收合。

**優點**：數字與號碼視覺化、適合「一眼看結果＋開獎號碼」。  
**缺點**：元件較多，需留意窄螢幕排版。

---

## 五、方案 F：App 風（單一焦點、結果優先）

**參考**：發票存摺／載具 — 簡潔、單一焦點、少干擾。

**版面**：

1. **唯一主區塊**（無 subheader）：
   - **第一焦點**：對獎結果一句（大或加粗），例：`本期對獎 27 張，中獎 2 張，共 400 元` 或 `本期對獎 27 張，未中獎`；失敗時：`無法取得開獎，請手動對獎`。
   - **第二焦點**：領獎期限（小字一行，有再顯示）。
2. **次要操作**：同一行或緊接一行：
   - [查看明細]（有中獎才顯示）
   - [看開獎號碼]
   - [對獎（本期）] [對獎（上期）]  
   皆可為小按鈕或 popover，點開才展開明細／開獎號碼。
3. **手動貼上**：收合在 expander，不搶主視覺。

**優點**：主畫面只強調「結果」與「領獎期」，其餘收合，最省注意力。  
**缺點**：開獎號碼不常駐，需點一次才見。

---

## 六、方案 G：雙欄（左結果、右開獎）

**參考**：桌面版開獎頁、左結果右對照表。

**版面**：

1. **標題**：`🎰 發票對獎`，可帶期別與領獎期小字。
2. **雙欄**（例 1 : 1 或 5 : 4）：
   - **左欄**：對獎結果摘要；有中獎時中獎明細表（或收合在 expander）；按鈕「對獎（本期）」「對獎（上期）」；手動貼上 expander。
   - **右欄**：本期開獎號碼（表格或固定格式：特別獎、特獎、頭獎、領獎期間），不收合。
3. 窄螢幕可改為上下堆疊：上結果、下開獎。

**優點**：結果與開獎號碼並列，對照方便。  
**缺點**：寬螢幕才顯效益，手機需堆疊。

---

## 七、方案 H：步驟／時間軸式（期別 → 開獎 → 結果 → 明細）

**參考**：流程型 App、引導式版面。

**版面**：

1. **標題**：`🎰 發票對獎`。
2. **步驟條**（視覺或文字）：① 選擇期別 → ② 開獎號碼 → ③ 對獎結果 → ④ 中獎明細（有才顯示）。
3. **內容對應**：
   - ① 期別：兩顆按鈕「本期」「上期」或下拉。
   - ② 開獎號碼：表格或卡片，含領獎期間。
   - ③ 對獎結果：一句摘要。
   - ④ 中獎明細：有中獎時 expander 或直接表格。
4. 手動貼上收合在底部 expander。

**優點**：流程清楚，適合「第一次對獎」的用戶。  
**缺點**：步驟較多，常對獎者可能覺得多一步。

---

## 八、方案對照與建議

| 方案 | 參考產品 | 常駐佔高 | 開獎號碼 | 適合情境 |
|------|----------|----------|----------|----------|
| A | 精簡通用 | 中 | 收合 | 平衡 |
| B | 收合整區 | 低 | 收合 | 對獎非主流程 |
| C | 單行＋popover | 低 | popover | 極省空間（現用） |
| **D** | **財政部** | 中高 | **常駐表格** | 需常對照開獎號碼 |
| **E** | **儀表板／開獎卡** | 中 | **常駐卡片** | 重視數字與號碼視覺 |
| **F** | **發票存摺／載具** | 低 | 收合 | 結果優先、少干擾 |
| **G** | **桌面開獎頁** | 中 | **右欄常駐** | 桌面＋對照需求 |
| **H** | **流程型 App** | 中 | 步驟區塊 | 引導式、新手友善 |

- 若要**最貼近財政部開獎頁**：選 **方案 D**。  
- 若要**儀表板／號碼卡片感**：選 **方案 E**。  
- 若要**極簡、結果優先**：選 **方案 F**。  
- 若要**桌面對照**：選 **方案 G**。

實作時可先做 D 或 E 其一，再依回饋調整欄寬、是否收合領獎注意事項等。
