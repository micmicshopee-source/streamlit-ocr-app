# 發票報帳系統 - Tailwind UI 風格設計方案

## 📋 設計概述

參考 [Tailwind UI Detail Screens](https://tailwindcss.com/plus/ui-blocks/application-ui/page-examples/detail-screens) 的設計理念，重新設計發票報帳系統的界面，打造現代化、專業的儀表板體驗。

---

## 🎯 設計目標

1. **視覺層次清晰** - 使用卡片、陰影、間距建立清晰的信息架構
2. **數據可視化突出** - 統計指標和圖表成為視覺焦點
3. **操作流程優化** - 上傳、識別、查看一體化流程
4. **響應式布局** - 適配不同屏幕尺寸
5. **現代化美學** - 簡潔、專業、易用的界面

---

## 🏗️ 整體布局架構

### 方案A：Stacked Layout（堆疊布局）- **推薦**

```
┌─────────────────────────────────────────────────────────┐
│  Header Bar (固定頂部)                                    │
│  [Logo] 發票報帳小秘笈 Pro    [用戶] [設置] [通知]        │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │  Page Header (頁面標題區)                        │  │
│  │  📑 發票管理儀表板                                │  │
│  │  [快速操作按鈕組]                                  │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │  Stats Cards (統計指標卡片區) - 4列並排           │  │
│  │  ┌────┐ ┌────┐ ┌────┐ ┌────┐                     │  │
│  │  │累計│ │累計│ │發票│ │缺失│                     │  │
│  │  │金額│ │稅額│ │總數│ │數據│                     │  │
│  │  └────┘ └────┘ └────┘ └────┘                     │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │  Action Panel (操作面板) - 卡片式                  │  │
│  │  ┌──────────────────────────────────────────────┐  │  │
│  │  │ 📤 上傳辨識                                  │  │  │
│  │  │ [Tab: OCR識別 | 數據導入]                    │  │  │
│  │  │ [文件上傳區]                                 │  │  │
│  │  │ [開始辨識按鈕]                               │  │  │
│  │  └──────────────────────────────────────────────┘  │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │  Charts Section (圖表展示區) - 2列並排            │  │
│  │  ┌──────────────┐ ┌──────────────┐              │  │
│  │  │ 會計科目分布  │ │ 每日支出趨勢  │              │  │
│  │  │ (圓餅圖)      │ │ (折線圖)      │              │  │
│  │  └──────────────┘ └──────────────┘              │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │  Data Table Section (數據表格區)                  │  │
│  │  ┌──────────────────────────────────────────────┐  │  │
│  │  │ 篩選欄: [搜索框] [時間範圍] [導出按鈕]        │  │  │
│  │  ├──────────────────────────────────────────────┤  │  │
│  │  │ 數據表格 (可編輯)                              │  │  │
│  │  └──────────────────────────────────────────────┘  │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 方案B：Sidebar Layout（側邊欄布局）

```
┌──────────┬──────────────────────────────────────────────┐
│          │  Header Bar                                   │
│          │  📑 發票管理儀表板                           │
│ Sidebar  ├──────────────────────────────────────────────┤
│          │                                               │
│ [上傳]   │  ┌──────────────────────────────────────┐    │
│ [統計]   │  │  Stats Cards (4列)                    │    │
│ [圖表]   │  └──────────────────────────────────────┘    │
│ [數據]   │                                               │
│ [設置]   │  ┌──────────────────────────────────────┐    │
│          │  │  Charts (2列)                        │    │
│          │  └──────────────────────────────────────┘    │
│          │                                               │
│          │  ┌──────────────────────────────────────┐    │
│          │  │  Data Table                           │    │
│          │  └──────────────────────────────────────┘    │
└──────────┴──────────────────────────────────────────────┘
```

**建議採用方案A（Stacked Layout）**，因為：
- Streamlit 更適合垂直堆疊布局
- 信息流更自然（從上到下）
- 移動端體驗更好

---

## 🎨 視覺設計規範

### 1. 色彩系統

```css
主色調：
- Primary: #3B82F6 (藍色) - 主要操作按鈕、鏈接
- Success: #10B981 (綠色) - 成功狀態、正常數據
- Warning: #F59E0B (橙色) - 警告、缺失數據
- Danger: #EF4444 (紅色) - 錯誤、刪除操作
- Info: #06B6D4 (青色) - 信息提示

背景色：
- Background: #FFFFFF (白色) / #F9FAFB (淺灰)
- Card: #FFFFFF (白色)
- Sidebar: #1F2937 (深灰)

文字色：
- Primary Text: #111827 (深灰)
- Secondary Text: #6B7280 (中灰)
- Muted Text: #9CA3AF (淺灰)
```

### 2. 卡片設計

```css
卡片樣式：
- 背景：白色 (#FFFFFF)
- 圓角：12px
- 陰影：0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06)
- 內邊距：24px
- 間距：16px (卡片之間)
```

### 3. 統計指標卡片

```css
指標卡片特點：
- 大數字突出顯示（24-32px，粗體）
- 標籤文字較小（14px，灰色）
- 趨勢指示器（向上/向下箭頭 + 百分比）
- 圖標裝飾（左側或頂部）
- 懸停效果（輕微陰影提升）
```

### 4. 按鈕設計

```css
主要按鈕：
- 背景：主色調 (#3B82F6)
- 文字：白色
- 圓角：8px
- 內邊距：12px 24px
- 懸停：背景色加深 10%

次要按鈕：
- 背景：透明
- 邊框：1px solid #E5E7EB
- 文字：主色調
```

---

## 📐 組件設計詳解

### 1. Header Bar（頂部導航欄）

**功能：**
- 應用 Logo/標題
- 用戶信息（當前登入帳號）
- 快速操作（設置、通知、幫助）
- 搜索框（全局搜索）

**設計要點：**
- 固定頂部，高度 64px
- 背景白色，底部 1px 邊框
- 右側操作按鈕組

### 2. Page Header（頁面標題區）

**功能：**
- 頁面標題
- 麵包屑導航（可選）
- 快速操作按鈕組（上傳、導入、導出）

**設計要點：**
- 標題使用 32px 粗體
- 副標題使用 16px 灰色文字
- 操作按鈕右對齊

### 3. Stats Cards（統計指標卡片）

**布局：** 4列並排（響應式：大屏4列，中屏2列，小屏1列）

**每個卡片包含：**
```
┌─────────────────┐
│  [圖標] 標籤     │
│  大數字          │
│  [趨勢指示器]    │
└─────────────────┘
```

**示例：**
- **累計金額**: $125,430 | ↑ 12.5%
- **累計稅額**: $6,271 | ↑ 12.5%
- **發票總數**: 342 筆 | ↑ 8.2%
- **缺失數據**: 5 筆 | ↓ 2.1%

### 4. Action Panel（操作面板）

**設計：**
- 卡片容器，白色背景
- Tab 切換（OCR識別 / 數據導入）
- 文件上傳區域（拖拽上傳，視覺反饋）
- 主要操作按鈕（大尺寸，醒目）

**上傳區域：**
```
┌─────────────────────────────────┐
│  📤 拖拽文件到這裡或點擊選擇      │
│                                  │
│  [支持 JPG, PNG, JPEG]           │
│                                  │
│  [已選擇: 3 個文件]              │
│  [開始辨識 🚀]                   │
└─────────────────────────────────┘
```

### 5. Charts Section（圖表展示區）

**布局：** 2列並排（響應式：小屏1列）

**左側 - 會計科目分布（圓餅圖）：**
- 標題：會計科目分布
- 圖表：Altair 圓餅圖
- 圖例：右側或底部
- 交互：懸停顯示詳細信息

**右側 - 每日支出趨勢（折線圖）：**
- 標題：每日支出趨勢
- 圖表：Altair 折線圖
- X軸：日期
- Y軸：金額
- 交互：懸停顯示具體數值

### 6. Data Table Section（數據表格區）

**頂部篩選欄：**
```
┌─────────────────────────────────────────────┐
│  🔍 [搜索框]  🕒 [時間範圍▼]  [導出 CSV] [導出 PDF] │
└─────────────────────────────────────────────┘
```

**表格設計：**
- 白色背景卡片
- 表頭：深色背景，白色文字
- 行間距：適中，易於閱讀
- 狀態列：使用 Badge 組件（✅ 正常 / ❌ 缺失）
- 可編輯：內聯編輯，自動保存
- 選中行：淺藍色背景高亮

**表格功能：**
- 排序（點擊表頭）
- 篩選（每列下拉菜單）
- 分頁（底部）
- 批量操作（選中多行後顯示操作欄）

---

## 🎯 交互設計

### 1. 上傳流程

```
選擇文件 → 預覽縮略圖 → 點擊辨識 → 進度條 → 結果預覽 → 確認保存
```

**視覺反饋：**
- 上傳中：進度條 + 百分比
- 識別中：旋轉圖標 + "AI 正在分析..."
- 成功：綠色提示 + 成功圖標
- 失敗：紅色提示 + 錯誤信息

### 2. 圖片預覽

**設計：**
- 小圖網格布局（3列）
- 懸停：放大效果
- 點擊：彈出大圖（Modal）
- 大圖：可下載、可關閉

### 3. 數據編輯

**設計：**
- 點擊單元格：進入編輯模式
- 編輯中：藍色邊框高亮
- 保存：自動保存，顯示成功提示
- 錯誤：紅色邊框 + 錯誤提示

---

## 📱 響應式設計

### 桌面端（≥1024px）
- 4列統計卡片
- 2列圖表
- 完整表格顯示

### 平板端（768px - 1023px）
- 2列統計卡片
- 1列圖表（堆疊）
- 表格可橫向滾動

### 移動端（<768px）
- 1列統計卡片
- 1列圖表
- 表格改為卡片列表視圖

---

## 🚀 實施優先級

### Phase 1: 核心布局重構（高優先級）
1. ✅ 實現 Stacked Layout
2. ✅ 重設計統計指標卡片
3. ✅ 優化操作面板（上傳區）
4. ✅ 改進圖表展示

### Phase 2: 視覺優化（中優先級）
1. ✅ 應用色彩系統
2. ✅ 添加卡片陰影和圓角
3. ✅ 優化按鈕樣式
4. ✅ 改進表格樣式

### Phase 3: 交互增強（中優先級）
1. ✅ 圖片預覽 Modal
2. ✅ 數據編輯優化
3. ✅ 加載狀態動畫
4. ✅ 成功/錯誤提示優化

### Phase 4: 響應式優化（低優先級）
1. ✅ 移動端適配
2. ✅ 平板端優化
3. ✅ 觸摸交互優化

---

## 🎨 Streamlit 實現要點

### 1. 自定義 CSS

```python
st.markdown("""
<style>
    /* 卡片樣式 */
    .metric-card {
        background: white;
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    /* 統計指標 */
    .stat-value {
        font-size: 32px;
        font-weight: bold;
        color: #111827;
    }
    
    /* 按鈕樣式 */
    .stButton>button {
        border-radius: 8px;
        padding: 12px 24px;
    }
</style>
""", unsafe_allow_html=True)
```

### 2. 組件封裝

建議創建可復用的組件：
- `stat_card()` - 統計指標卡片
- `action_panel()` - 操作面板
- `chart_section()` - 圖表區域
- `data_table_section()` - 數據表格區域

### 3. 布局結構

```python
# 頂部標題區
st.title("📑 發票管理儀表板")

# 統計指標區（4列）
col1, col2, col3, col4 = st.columns(4)
with col1:
    st.metric("累計金額", f"${total_sum:,.0f}")

# 操作面板（卡片）
with st.container():
    st.subheader("📤 上傳辨識")
    # 上傳組件

# 圖表區（2列）
chart_col1, chart_col2 = st.columns(2)
# 圖表組件

# 數據表格區
st.subheader("📋 數據稽核報表")
# 表格組件
```

---

## 📊 設計對比

### 當前設計 vs 新設計

| 項目 | 當前設計 | 新設計（Tailwind風格） |
|------|---------|---------------------|
| 布局 | 左側上傳 + 右側內容 | 垂直堆疊，全寬展示 |
| 統計指標 | 簡單 metric | 卡片式，帶圖標和趨勢 |
| 圖表 | 基礎 Altair | 增強樣式，更好視覺效果 |
| 表格 | 標準表格 | 卡片容器，優化樣式 |
| 色彩 | 默認 Streamlit | 自定義色彩系統 |
| 間距 | 默認間距 | 統一間距系統 |
| 陰影 | 無 | 卡片陰影效果 |

---

## ✅ 設計檢查清單

- [ ] 視覺層次清晰
- [ ] 色彩系統統一
- [ ] 間距系統一致
- [ ] 卡片設計統一
- [ ] 按鈕樣式統一
- [ ] 響應式適配
- [ ] 交互反饋明確
- [ ] 無障礙設計考慮
- [ ] 加載狀態優化
- [ ] 錯誤處理友好

---

## 📝 總結

本設計方案參考 Tailwind UI Detail Screens 的設計理念，採用 **Stacked Layout（堆疊布局）**，通過卡片化設計、統一的色彩系統、清晰的視覺層次，打造現代化、專業的發票報帳系統界面。

**核心改進點：**
1. 全寬垂直布局，信息流更自然
2. 統計指標卡片化，數據更突出
3. 操作面板獨立卡片，功能更清晰
4. 圖表和表格優化樣式，視覺更專業
5. 統一的設計系統，體驗更一致

**下一步行動：**
1. 確認設計方案
2. 開始實施 Phase 1 核心布局重構
3. 逐步優化視覺和交互

---

*設計方案版本：v1.0*  
*設計日期：2026-01-26*  
*參考：Tailwind UI Detail Screens*
